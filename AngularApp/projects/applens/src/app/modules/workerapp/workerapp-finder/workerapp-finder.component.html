<applens-header></applens-header>
<div class="container-fluid main-container content-under-header">
  <div class="big-text" *ngIf="loading">Searching for workerapp ...</div>
  <div class="big-text" *ngIf="!loading && error">{{error}}</div>
  <div class="big-text" *ngIf="!loading && !error && matchingSites.length == 1">Redirecting to {{siteName}}</div>
  <div *ngIf="!loading && !error && matchingSites.length > 0">
    <div class="multiple-sites">
      <div>
        <h3>Multiple worker apps with the name '{{matchingSites[0].SiteName}}' found. Pick the correct one:</h3>
      </div>
      <div class="matching-site" *ngFor="let site of matchingSites">
        <div class="panel main-panel">
          <div class="panel-body">
            <h5 class="panel-title">{{site.WorkerAppName}}
            </h5>
            <p class="panel-text">{{site.SubscriptionName}}</p>
            <p class="panel-text">{{site.ResourceGroupName}}</p>
            <p class="panel-text">{{site.KubeEnvironmentName}}</p>
            <a (click)="navigateToSite(site)" class="btn btn-primary">Select</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
